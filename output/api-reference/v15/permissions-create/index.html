<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta content="nanoc 3.6.7" name="generator">
<title>
LevelUp Development .:
Permissions .: Create
</title>
<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900" media="screen" rel="stylesheet" type="text/css">
<link href="../../../styles.css" media="screen, projection" rel="stylesheet" type="text/css">
<link href="../../../images/icon.png" rel="shortcut icon" type="image/png">
</head>
<body>
<div class="main-nav">
<ul class="l-horizontal">
<li>
<a class="main-nav__button" href="https://www.thelevelup.com/">LevelUp</a>
</li>
<li class="l-right">
<a class="main-nav__button main-nav__button--right" href="http://support.thelevelup.com/">Support</a>
</li>
<li class="l-right">
<a class="main-nav__button main-nav__button--right" href="../../../getting-started/sign-up/">Join</a>
</li>
</ul>
</div>
<div class="l-wrap">
<div class="content">
<ul class="side-nav">
<li>
<a class="side-nav__button side-nav__button--getting-started" href="../../../">Platform Overview</a>
<ul class="side-nav__sub">
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../">Overview</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/what-to-build/">What to Build</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/apis-sdks-libraries/">API, SDKs &amp; Libraries</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/permissions-list/">Permissions List</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/rules-of-the-road/">Rules of the Road</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/sign-up/">Sign Up</a>
</li>
</ul>
<ul></ul>
</li>
</ul>
</li>
<li class="is-active">
<a class="side-nav__button side-nav__button--api-reference" href="../../">API Reference</a>
<ul class="side-nav__sub">
<li>
<h5>
Getting Started
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../">Requests &amp; Responses</a>
</li>
</ul>
</li>
<li>
<h5>
v15 .: BETA
</h5>
<ul><ul>
<li>
App Access Tokens
<ul>
<li class="side-nav__sub__link">
<a href="../app-access-tokens-create/">Create</a>
</li>
</ul>
</li>
<li>
Credit Cards
<ul>
<li class="side-nav__sub__link">
<a href="../credit-cards-create/">Create</a>
</li>
</ul>
</li>
<li>
Merchant-Funded Credit
<ul>
<li class="side-nav__sub__link">
<a href="../merchant-funded-credit-give/">Give</a>
</li>
</ul>
</li>
<li>
Orders
<ul>
<li class="side-nav__sub__link">
<a href="../orders-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../orders-refunds/">Refund</a>
</li>
<li class="side-nav__sub__link">
<a href="../user-orders-list/">List</a>
</li>
</ul>
</li>
<li>
Permissions
<ul>
<li class="side-nav__sub__link">
<span class="active" title="You're here.">Create</span>
</li>
<li class="side-nav__sub__link">
<a href="../permissions-request-show/">Show</a>
</li>
</ul>
</li>
<li>
QR Codes
<ul>
<li class="side-nav__sub__link">
<a href="../qr-codes-get/">Get</a>
</li>
</ul>
</li>
<li>
User Addresses
<ul>
<li class="side-nav__sub__link">
<a href="../user-addresses-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../user-addresses-show/">List</a>
</li>
</ul>
</li>
<li>
Users
<ul>
<li class="side-nav__sub__link">
<a href="../app-users-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../user-show/">Get</a>
</li>
</ul>
</li>
</ul></ul>
</li>
<li>
<h5>
v14
</h5>
<ul><ul>
<li>
Access Tokens
<ul>
<li class="side-nav__sub__link">
<a href="../../v14/access-tokens-create/">Create</a>
</li>
</ul>
</li>
<li>
Campaigns
<ul>
<li class="side-nav__sub__link">
<a href="../../v14/campaigns-view-details/">Get Details</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/campaigns-claim/">Claim</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/campaigns-view-by-cohort/">Get by Cohort</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/campaign-claim-legacy/">Claim Legacy</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/campaign-get-merchant-id/">Get Merchant ID</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/campaign-get-image/">Get Image</a>
</li>
</ul>
</li>
<li>
Credit Cards
<ul>
<li class="side-nav__sub__link">
<a href="../../v14/credit-cards-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/credit-cards-list/">List</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/credit-cards-promote/">Promote</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/credit-cards-delete/">Delete</a>
</li>
</ul>
</li>
<li>
Detached Refunds
<ul>
<li class="side-nav__sub__link">
<a href="../../v14/detached-refunds-create/">Create</a>
</li>
</ul>
</li>
<li>
Interstitials
<ul>
<li class="side-nav__sub__link">
<a href="../../v14/interstitials/">Get</a>
</li>
</ul>
</li>
<li>
Locations
<ul>
<li class="side-nav__sub__link">
<a href="../../v14/locations-list-all/">List</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/locations-list-by-app/">List by App</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/locations-list-by-merchant/">List by Merchant</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/locations-show-image/">Get Image</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/locations-show-details/">Get Details</a>
</li>
</ul>
</li>
<li>
Loyalty
<ul>
<li class="side-nav__sub__link">
<a href="../../v14/loyalties/">Get</a>
</li>
</ul>
</li>
<li>
Orders
<ul>
<li class="side-nav__sub__link">
<a href="../../v14/orders-by-app/">List by App</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/orders-by-location/">List By Location</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/orders-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/orders-merchant-details/">Get Merchant Details</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/orders-refunds/">Refund</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/orders-user-details/">Get User Details</a>
</li>
</ul>
</li>
<li>
Payment Tokens
<ul>
<li class="side-nav__sub__link">
<a href="../../v14/payment-tokens/">Get</a>
</li>
</ul>
</li>
<li>
Support Tickets
<ul>
<li class="side-nav__sub__link">
<a href="../../v14/support-tickets/">Create</a>
</li>
</ul>
</li>
<li>
Users
<ul>
<li class="side-nav__sub__link">
<a href="../../v14/users-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/users-show-addresses/">List Addresses</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/users-show/">Get Details</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/users-update/">Update</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/users-reset-password/">Reset Password</a>
</li>
<li class="side-nav__sub__link">
<a href="../../v14/users-custom-attributes/">Custom Attributes</a>
</li>
</ul>
</li>
</ul></ul>
</li>
</ul>
</li>
<li>
<a class="side-nav__button side-nav__button--mobile-sdk" href="../../../mobile-sdks/">Mobile SDK</a>
<ul class="side-nav__sub">
<li>
<h5>
Getting Started
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../mobile-sdks/">Overview</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../mobile-sdks/getting-started/rules-of-the-road/">Rules of the Road</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../mobile-sdks/getting-started/ios/">Getting Started: iOS</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../mobile-sdks/getting-started/android/">Getting Started: Android</a>
</li>
</ul>
</li>
<li>
<h5>
Core Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../mobile-sdks/core-concepts/deep-link-auth/">Deep Link Auth</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../mobile-sdks/core-concepts/login/">Login</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../mobile-sdks/core-concepts/register/">Register</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../mobile-sdks/core-concepts/manage-cards/">Manage Cards</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../mobile-sdks/core-concepts/payment/">Payment</a>
</li>
</ul>
</li>
<li>
<h5>
Additional Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../mobile-sdks/additional-concepts/locations/">Locations</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../mobile-sdks/additional-concepts/loyalty/">Loyalty</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../mobile-sdks/additional-concepts/order-history/">Order History</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a class="side-nav__button side-nav__button--pos-integration" href="../../../pos-integration/">POS Integration</a>
<ul class="side-nav__sub">
<li>
<h5>
Getting Started
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/">Overview</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/getting-started/developer-setup/">Developer Setup</a>
</li>
</ul>
</li>
<li>
<h5>
Core Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/core-concepts/configuring-merchants/">Configuring Merchants</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/core-concepts/processing-transactions/">Processing Transactions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/core-concepts/handling-refunds/">Handling Refunds</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/core-concepts/consumer-flow/">Consumer Flow</a>
</li>
</ul>
</li>
<li>
<h5>
Additional Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/additional-concepts/common-questions/">Common Questions</a>
</li>
</ul>
</li>
<li>
<h5>
Integration SDK
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/integration-sdks/overview/">Overview</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/integration-sdks/rules-of-the-road/">Rules of the Road</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/integration-sdks/c-sharp/">Getting Started: C# &amp; .NET</a>
</li>
</ul>
</li>
<li>
<h5>
Certification &amp; Residuals
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/certification-residuals/overview/">Overview</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a class="side-nav__button side-nav__button--online-ordering" href="../../../online-ordering/">Mobile &amp; E-Commerce</a>
<ul class="side-nav__sub">
<li>
<h5>
Getting Started
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/">Overview</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/getting-started/developer-setup/">Developer Setup</a>
</li>
</ul>
</li>
<li>
<h5>
Sample UX Flows
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/sample-ux-flows/levelup-as-payment/">LevelUp as Payment</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/sample-ux-flows/levelup-as-login/">LevelUp as Login</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/sample-ux-flows/levelup-as-account-of-record/">LevelUp as Account of Record</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/sample-ux-flows/embedded-flow/">Embedded Flow</a>
</li>
</ul>
</li>
<li>
<h5>
Core Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/merchant-permissions/">Merchant Permissions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/user-flow/">User Flow</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/user-permissions/">User Permissions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/processing-transactions/">Processing Transactions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/handling-refunds/">Handling Refunds</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/common-questions/">Common Questions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/showcasing-savings/">Showcasing Savings</a>
</li>
</ul>
</li>
<li>
<h5>
Certification &amp; Residuals
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/certification-residuals/overview/">Overview</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="documentation">
<div class="documentation__header">
<div class="l-horizontal">
<h4>
Permissions .: Create
</h4>
<h4 class="documentation__header--section l-right">
API Reference / v15 .: BETA
</h4>
</div>
</div>
<div class="documentation__content">
<h2>Create a Permissions Request</h2>

<p>Create a Permissions Request to take actions on an account based on the permissions keynames that are requested.</p>

<h3>Request Endpoint</h3>

<div class="http-request">
  <span class="http-verb">POST</span> /v15/apps/permissions_requests
</div>

<p>** NOTE: This is a v15 endpoint.  Our stable API version is v14.  v15 is our beta branch for exciting new features.**</p>

<h3>Authentication Required – App Token</h3>
<div class="highlight"><pre><span class="n">Authorization</span><span class="o">:</span> <span class="n">token</span> <span class="mi">123456</span><span class="o">-</span><span class="mi">75489120749</span><span class="o">...</span>
</pre></div>
<h3>Request Body</h3>
<div class="highlight"><pre>   <span class="p">{</span>
  <span class="nt">"permissions_request"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"email"</span><span class="p">:</span> <span class="s2">"guy@example.com"</span><span class="p">,</span>
    <span class="nt">"permission_keynames"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"create_orders"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<h3>Request Parameters</h3>

<table>
<thead><tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code>email</code></td>
<td>String</td>
<td>Yes</td>
<td>The user’s email address</td>
</tr>
<tr>
<td><code>permission_keynames</code></td>
<td>String</td>
<td>Yes</td>
<td>Array of <a href="../../../getting-started/permissions-list/">requested permissions</a>
</td>
</tr>
</tbody>
</table>
<p>The request for permissions will be created and approved or declined by the user.  The result of the permission request will be POSTed back to your designated App Callback Url.  To set your App Callback Url, please <a href="https://levelup.zendesk.com/hc/en-us/requests/new">submit a support request</a>.</p>

<h3>Example Call</h3>
<div class="highlight"><pre>curl -iH <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Content-Type: application/json'</span> -H  <span class="s1">'Authorization: token 123456-d1af6099abe44f01f14690bfa423468f189a78326f1a8b45cdad817367f1f3c8'</span> --request POST -d <span class="s1">'{"permissions_request": {"email": "user@email.com", "permission_keynames": ["create_orders"]}}'</span> https://api.thelevelup.com/v15/apps/permissions_requests
</pre></div>
<h3>Example Response</h3>
<div class="highlight"><pre><span class="p">{</span>
    <span class="nt">"permissions_request"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"app_id"</span><span class="p">:</span><span class="mi">102</span><span class="p">,</span>
        <span class="nt">"id"</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span>
        <span class="nt">"permission_keynames"</span><span class="p">:[</span><span class="s2">"create_orders"</span><span class="p">],</span>
        <span class="nt">"state"</span><span class="p">:</span><span class="s2">"pending"</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<h3>Response Parameters</h3>

<table>
<thead><tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code>app_id</code></td>
<td>Integer</td>
<td>The LevelUp App ID</td>
</tr>
<tr>
<td><code>id</code></td>
<td>Integer</td>
<td>The LevelUp permission request ID</td>
</tr>
<tr>
<td><code>permission_keynames</code></td>
<td>Array</td>
<td>Types of permissions requested</td>
</tr>
<tr>
<td><code>state</code></td>
<td>String</td>
<td>State of request  (Will be pending until the user approves the request)</td>
</tr>
</tbody>
</table>
<p>After this call, the user will receive a notifcation to approve the requested permissions to your app.  If they approve the app, the LevelUp API will POST a response to the URL of your choosing.  To set your App POST URL, <a href="https://levelup.zendesk.com/hc/en-us/requests/new">submit a support request</a>.  If you don’t have an endpoint ready but still want to receive the responses, we recommend utilizing our <a href="../permissions-request-show/">Permissions Request Show endpoint</a>.</p>

<p>You will want to save the id of the permissions request as you will use it to identify the POST response from LevelUp when the user accepts the permissions request:</p>
<div class="highlight"><pre><span class="p">{</span>
    <span class="nt">"permissions_request"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"id"</span><span class="p">:</span><span class="mi">38</span><span class="p">,</span>
        <span class="nt">"state"</span><span class="p">:</span><span class="s2">"accepted"</span><span class="p">,</span>
        <span class="nt">"token"</span><span class="p">:</span><span class="s2">"123456-9a56559c71fd6fc3bb0766dceabe0b6a3ee6dba40c7e05d0ef2d4e45b4f5ae41"</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>Once you recieve this POST, you can use the token to authenticate relevant requests for that account.</p>

</div>
</div>
<div class="l-clearfix"></div>
</div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><script src="../../../scripts.js"></script><script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6677962-51']);
  _gaq.push(['_setDomainName', 'developer.thelevelup.com']);
  _gaq.push(['_trackPageview']);
  
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
