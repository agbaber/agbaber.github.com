<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta content="nanoc 3.6.7" name="generator">
<title>
LevelUp Development .:
Payment
</title>
<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900" media="screen" rel="stylesheet" type="text/css">
<link href="../../../styles.css" media="screen, projection" rel="stylesheet" type="text/css">
<link href="../../../images/icon.png" rel="shortcut icon" type="image/png">
</head>
<body>
<div class="main-nav">
<ul class="l-horizontal">
<li>
<a class="main-nav__button" href="https://www.thelevelup.com/">LevelUp</a>
</li>
<li class="l-right">
<a class="main-nav__button main-nav__button--right" href="http://support.thelevelup.com/">Support</a>
</li>
<li class="l-right">
<a class="main-nav__button main-nav__button--right" href="../../../getting-started/sign-up/">Join</a>
</li>
</ul>
</div>
<div class="l-wrap">
<div class="content">
<ul class="side-nav">
<li>
<a class="side-nav__button side-nav__button--getting-started" href="../../../">Platform Overview</a>
<ul class="side-nav__sub">
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../">Overview</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/what-to-build/">What to Build</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/apis-sdks-libraries/">API, SDKs &amp; Libraries</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/permissions-list/">Permissions List</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/rules-of-the-road/">Rules of the Road</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/sign-up/">Sign Up</a>
</li>
</ul>
<ul></ul>
</li>
</ul>
</li>
<li>
<a class="side-nav__button side-nav__button--api-reference" href="../../../api-reference/">API Reference</a>
<ul class="side-nav__sub">
<li>
<h5>
Getting Started
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/">Requests &amp; Responses</a>
</li>
</ul>
</li>
<li>
<h5>
v15 .: BETA
</h5>
<ul><ul>
<li>
App Access Tokens
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/app-access-tokens-create/">Create</a>
</li>
</ul>
</li>
<li>
Credit Cards
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/credit-cards-create/">Create</a>
</li>
</ul>
</li>
<li>
Merchant-Funded Credit
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/merchant-funded-credit-give/">Give</a>
</li>
</ul>
</li>
<li>
Orders
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/orders-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/orders-refunds/">Refund</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/user-orders-list/">List</a>
</li>
</ul>
</li>
<li>
Permissions
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/permissions-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/permissions-request-show/">Show</a>
</li>
</ul>
</li>
<li>
QR Codes
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/qr-codes-get/">Get</a>
</li>
</ul>
</li>
<li>
User Addresses
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/user-addresses-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/user-addresses-show/">List</a>
</li>
</ul>
</li>
<li>
Users
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/app-users-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/user-show/">Get</a>
</li>
</ul>
</li>
</ul></ul>
</li>
<li>
<h5>
v14
</h5>
<ul><ul>
<li>
Access Tokens
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/access-tokens-create/">Create</a>
</li>
</ul>
</li>
<li>
Campaigns
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/campaigns-view-details/">Get Details</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/campaigns-claim/">Claim</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/campaigns-view-by-cohort/">Get by Cohort</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/campaign-claim-legacy/">Claim Legacy</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/campaign-get-merchant-id/">Get Merchant ID</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/campaign-get-image/">Get Image</a>
</li>
</ul>
</li>
<li>
Credit Cards
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/credit-cards-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/credit-cards-list/">List</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/credit-cards-promote/">Promote</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/credit-cards-delete/">Delete</a>
</li>
</ul>
</li>
<li>
Detached Refunds
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/detached-refunds-create/">Create</a>
</li>
</ul>
</li>
<li>
Interstitials
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/interstitials/">Get</a>
</li>
</ul>
</li>
<li>
Locations
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/locations-list-all/">List</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/locations-list-by-app/">List by App</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/locations-list-by-merchant/">List by Merchant</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/locations-show-image/">Get Image</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/locations-show-details/">Get Details</a>
</li>
</ul>
</li>
<li>
Loyalty
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/loyalties/">Get</a>
</li>
</ul>
</li>
<li>
Orders
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/orders-by-app/">List by App</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/orders-by-location/">List By Location</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/orders-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/orders-merchant-details/">Get Merchant Details</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/orders-refunds/">Refund</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/orders-user-details/">Get User Details</a>
</li>
</ul>
</li>
<li>
Payment Tokens
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/payment-tokens/">Get</a>
</li>
</ul>
</li>
<li>
Support Tickets
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/support-tickets/">Create</a>
</li>
</ul>
</li>
<li>
Users
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/users-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/users-show-addresses/">List Addresses</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/users-show/">Get Details</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/users-update/">Update</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/users-reset-password/">Reset Password</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/users-custom-attributes/">Custom Attributes</a>
</li>
</ul>
</li>
</ul></ul>
</li>
</ul>
</li>
<li class="is-active">
<a class="side-nav__button side-nav__button--mobile-sdk" href="../../">Mobile SDK</a>
<ul class="side-nav__sub">
<li>
<h5>
Getting Started
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../">Overview</a>
</li>
<li class="side-nav__sub__link">
<a href="../../getting-started/rules-of-the-road/">Rules of the Road</a>
</li>
<li class="side-nav__sub__link">
<a href="../../getting-started/ios/">Getting Started: iOS</a>
</li>
<li class="side-nav__sub__link">
<a href="../../getting-started/android/">Getting Started: Android</a>
</li>
</ul>
</li>
<li>
<h5>
Core Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../deep-link-auth/">Deep Link Auth</a>
</li>
<li class="side-nav__sub__link">
<a href="../login/">Login</a>
</li>
<li class="side-nav__sub__link">
<a href="../register/">Register</a>
</li>
<li class="side-nav__sub__link">
<a href="../manage-cards/">Manage Cards</a>
</li>
<li class="side-nav__sub__link">
<span class="active" title="You're here.">Payment</span>
</li>
</ul>
</li>
<li>
<h5>
Additional Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../additional-concepts/locations/">Locations</a>
</li>
<li class="side-nav__sub__link">
<a href="../../additional-concepts/loyalty/">Loyalty</a>
</li>
<li class="side-nav__sub__link">
<a href="../../additional-concepts/order-history/">Order History</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a class="side-nav__button side-nav__button--pos-integration" href="../../../pos-integration/">POS Integration</a>
<ul class="side-nav__sub">
<li>
<h5>
Getting Started
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/">Overview</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/getting-started/developer-setup/">Developer Setup</a>
</li>
</ul>
</li>
<li>
<h5>
Core Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/core-concepts/configuring-merchants/">Configuring Merchants</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/core-concepts/processing-transactions/">Processing Transactions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/core-concepts/handling-refunds/">Handling Refunds</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/core-concepts/consumer-flow/">Consumer Flow</a>
</li>
</ul>
</li>
<li>
<h5>
Additional Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/additional-concepts/common-questions/">Common Questions</a>
</li>
</ul>
</li>
<li>
<h5>
Integration SDK
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/integration-sdks/overview/">Overview</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/integration-sdks/rules-of-the-road/">Rules of the Road</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/integration-sdks/c-sharp/">Getting Started: C# &amp; .NET</a>
</li>
</ul>
</li>
<li>
<h5>
Certification &amp; Residuals
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/certification-residuals/overview/">Overview</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a class="side-nav__button side-nav__button--online-ordering" href="../../../online-ordering/">Mobile &amp; E-Commerce</a>
<ul class="side-nav__sub">
<li>
<h5>
Getting Started
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/">Overview</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/getting-started/developer-setup/">Developer Setup</a>
</li>
</ul>
</li>
<li>
<h5>
Sample UX Flows
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/sample-ux-flows/levelup-as-payment/">LevelUp as Payment</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/sample-ux-flows/levelup-as-login/">LevelUp as Login</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/sample-ux-flows/levelup-as-account-of-record/">LevelUp as Account of Record</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/sample-ux-flows/embedded-flow/">Embedded Flow</a>
</li>
</ul>
</li>
<li>
<h5>
Core Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/merchant-permissions/">Merchant Permissions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/user-flow/">User Flow</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/user-permissions/">User Permissions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/processing-transactions/">Processing Transactions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/handling-refunds/">Handling Refunds</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/common-questions/">Common Questions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/showcasing-savings/">Showcasing Savings</a>
</li>
</ul>
</li>
<li>
<h5>
Certification &amp; Residuals
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/certification-residuals/overview/">Overview</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="documentation">
<div class="documentation__header">
<div class="l-horizontal">
<h4>
Payment
</h4>
<h4 class="documentation__header--section l-right">
Mobile SDK / Core Concepts
</h4>
</div>
</div>
<div class="documentation__content">
<p>A payment token is a unique ID, tied to a single user, that enables them to make a payment with
LevelUp. The payment token’s data is encoded in a QR code which is scanned by a LevelUp Scanner when
the user pays. Each payment token is scoped to both the user and also to the app which is requesting
it.</p>

<p>Apps should regularly check the current user’s payment token. A good time to do this is immediately
when the app becomes active. There are several reasons to do this:</p>

<ul>
<li>A user’s payment token may have expired or changed. LevelUp may randomly rotate tokens for
increased security.</li>
<li>A user’s access token may have expired. In this case, the request will return with a “login
required” error.</li>
<li>If the request returns a “not found” error, it means the user is not currently payment eligible.
This may mean they haven’t added any credit/debit cards or their card has expired. In this case,
consider directing the user to add a card, rather than showing a QR code.</li>
<li>This is a very quick request and can catch a lot of potentially confusing user situations if run
right when the app becomes active.</li>
</ul>
<p>For optimal user experience, it’s a good idea to cache the user’s payment token. This way, if the
user’s device is having trouble connecting to the network, they can still pay.</p>

<h2>iOS</h2>

<p>A payment token is represented by the
<a href="http://thelevelup.github.io/levelup-sdk-ios/Classes/LUPaymentToken.html">LUPaymentToken</a> class. Use
<a href="http://thelevelup.github.io/levelup-sdk-ios/Classes/LUPaymentTokenRequestFactory.html">LUPaymentTokenRequestFactory</a>
to create the payment token request.</p>

<h2>Android</h2>

<p>A payment token is represented by the
<a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/model/PaymentToken.html">PaymentToken</a>
class. Use the
<a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/net/request/factory/PaymentTokenRequestFactory.html">PaymentTokenRequestFactory</a>
to create the payment token request. The response should be parsed with the
<a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/model/factory/json/PaymentTokenJsonFactory.html">PaymentTokenJsonFactory</a>
if the response status is
<a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/net/LevelUpStatus.html#OK">LevelUpStatus.OK</a>.
If the response status is
<a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/net/LevelUpStatus.html#ERROR_NOT_FOUND">LevelUpStatus.ERROR_NOT_FOUND</a>,
then the user is not payment eligible.</p>

</div>
</div>
<div class="l-clearfix"></div>
</div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><script src="../../../scripts.js"></script><script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6677962-51']);
  _gaq.push(['_setDomainName', 'developer.thelevelup.com']);
  _gaq.push(['_trackPageview']);
  
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
