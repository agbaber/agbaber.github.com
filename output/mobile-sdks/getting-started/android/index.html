<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta content="nanoc 3.6.7" name="generator">
<title>
LevelUp Development .:
Getting Started: Android
</title>
<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900" media="screen" rel="stylesheet" type="text/css">
<link href="../../../styles.css" media="screen, projection" rel="stylesheet" type="text/css">
<link href="../../../images/icon.png" rel="shortcut icon" type="image/png">
</head>
<body>
<div class="main-nav">
<ul class="l-horizontal">
<li>
<a class="main-nav__button" href="https://www.thelevelup.com/">LevelUp</a>
</li>
<li class="l-right">
<a class="main-nav__button main-nav__button--right" href="http://support.thelevelup.com/">Support</a>
</li>
<li class="l-right">
<a class="main-nav__button main-nav__button--right" href="../../../getting-started/sign-up/">Join</a>
</li>
</ul>
</div>
<div class="l-wrap">
<div class="content">
<ul class="side-nav">
<li>
<a class="side-nav__button side-nav__button--getting-started" href="../../../">Platform Overview</a>
<ul class="side-nav__sub">
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../">Overview</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/what-to-build/">What to Build</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/apis-sdks-libraries/">API, SDKs &amp; Libraries</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/permissions-list/">Permissions List</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/rules-of-the-road/">Rules of the Road</a>
</li>
</ul>
<ul></ul>
</li>
<li>
<ul>
<li class="side-nav__sub__link">
<a href="../../../getting-started/sign-up/">Sign Up</a>
</li>
</ul>
<ul></ul>
</li>
</ul>
</li>
<li>
<a class="side-nav__button side-nav__button--api-reference" href="../../../api-reference/">API Reference</a>
<ul class="side-nav__sub">
<li>
<h5>
Getting Started
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/">Requests &amp; Responses</a>
</li>
</ul>
</li>
<li>
<h5>
v15 .: BETA
</h5>
<ul><ul>
<li>
App Access Tokens
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/app-access-tokens-create/">Create</a>
</li>
</ul>
</li>
<li>
Credit Cards
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/credit-cards-create/">Create</a>
</li>
</ul>
</li>
<li>
Merchant-Funded Credit
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/merchant-funded-credit-give/">Give</a>
</li>
</ul>
</li>
<li>
Orders
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/orders-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/orders-refunds/">Refund</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/user-orders-list/">List</a>
</li>
</ul>
</li>
<li>
Permissions
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/permissions-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/permissions-request-show/">Show</a>
</li>
</ul>
</li>
<li>
QR Codes
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/qr-codes-get/">Get</a>
</li>
</ul>
</li>
<li>
User Addresses
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/user-addresses-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/user-addresses-show/">List</a>
</li>
</ul>
</li>
<li>
Users
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/app-users-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v15/user-show/">Get</a>
</li>
</ul>
</li>
</ul></ul>
</li>
<li>
<h5>
v14
</h5>
<ul><ul>
<li>
Access Tokens
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/access-tokens-create/">Create</a>
</li>
</ul>
</li>
<li>
Campaigns
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/campaigns-view-details/">Get Details</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/campaigns-claim/">Claim</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/campaigns-view-by-cohort/">Get by Cohort</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/campaign-claim-legacy/">Claim Legacy</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/campaign-get-merchant-id/">Get Merchant ID</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/campaign-get-image/">Get Image</a>
</li>
</ul>
</li>
<li>
Credit Cards
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/credit-cards-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/credit-cards-list/">List</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/credit-cards-promote/">Promote</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/credit-cards-delete/">Delete</a>
</li>
</ul>
</li>
<li>
Detached Refunds
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/detached-refunds-create/">Create</a>
</li>
</ul>
</li>
<li>
Interstitials
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/interstitials/">Get</a>
</li>
</ul>
</li>
<li>
Locations
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/locations-list-all/">List</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/locations-list-by-app/">List by App</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/locations-list-by-merchant/">List by Merchant</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/locations-show-image/">Get Image</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/locations-show-details/">Get Details</a>
</li>
</ul>
</li>
<li>
Loyalty
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/loyalties/">Get</a>
</li>
</ul>
</li>
<li>
Orders
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/orders-by-app/">List by App</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/orders-by-location/">List By Location</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/orders-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/orders-merchant-details/">Get Merchant Details</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/orders-refunds/">Refund</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/orders-user-details/">Get User Details</a>
</li>
</ul>
</li>
<li>
Payment Tokens
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/payment-tokens/">Get</a>
</li>
</ul>
</li>
<li>
Support Tickets
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/support-tickets/">Create</a>
</li>
</ul>
</li>
<li>
Users
<ul>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/users-create/">Create</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/users-show-addresses/">List Addresses</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/users-show/">Get Details</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/users-update/">Update</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/users-reset-password/">Reset Password</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../api-reference/v14/users-custom-attributes/">Custom Attributes</a>
</li>
</ul>
</li>
</ul></ul>
</li>
</ul>
</li>
<li class="is-active">
<a class="side-nav__button side-nav__button--mobile-sdk" href="../../">Mobile SDK</a>
<ul class="side-nav__sub">
<li>
<h5>
Getting Started
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../">Overview</a>
</li>
<li class="side-nav__sub__link">
<a href="../rules-of-the-road/">Rules of the Road</a>
</li>
<li class="side-nav__sub__link">
<a href="../ios/">Getting Started: iOS</a>
</li>
<li class="side-nav__sub__link">
<span class="active" title="You're here.">Getting Started: Android</span>
</li>
</ul>
</li>
<li>
<h5>
Core Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../core-concepts/deep-link-auth/">Deep Link Auth</a>
</li>
<li class="side-nav__sub__link">
<a href="../../core-concepts/login/">Login</a>
</li>
<li class="side-nav__sub__link">
<a href="../../core-concepts/register/">Register</a>
</li>
<li class="side-nav__sub__link">
<a href="../../core-concepts/manage-cards/">Manage Cards</a>
</li>
<li class="side-nav__sub__link">
<a href="../../core-concepts/payment/">Payment</a>
</li>
</ul>
</li>
<li>
<h5>
Additional Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../additional-concepts/locations/">Locations</a>
</li>
<li class="side-nav__sub__link">
<a href="../../additional-concepts/loyalty/">Loyalty</a>
</li>
<li class="side-nav__sub__link">
<a href="../../additional-concepts/order-history/">Order History</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a class="side-nav__button side-nav__button--pos-integration" href="../../../pos-integration/">POS Integration</a>
<ul class="side-nav__sub">
<li>
<h5>
Getting Started
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/">Overview</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/getting-started/developer-setup/">Developer Setup</a>
</li>
</ul>
</li>
<li>
<h5>
Core Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/core-concepts/configuring-merchants/">Configuring Merchants</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/core-concepts/processing-transactions/">Processing Transactions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/core-concepts/handling-refunds/">Handling Refunds</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/core-concepts/consumer-flow/">Consumer Flow</a>
</li>
</ul>
</li>
<li>
<h5>
Additional Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/additional-concepts/common-questions/">Common Questions</a>
</li>
</ul>
</li>
<li>
<h5>
Integration SDK
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/integration-sdks/overview/">Overview</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/integration-sdks/rules-of-the-road/">Rules of the Road</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/integration-sdks/c-sharp/">Getting Started: C# &amp; .NET</a>
</li>
</ul>
</li>
<li>
<h5>
Certification &amp; Residuals
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../pos-integration/certification-residuals/overview/">Overview</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a class="side-nav__button side-nav__button--online-ordering" href="../../../online-ordering/">Mobile &amp; E-Commerce</a>
<ul class="side-nav__sub">
<li>
<h5>
Getting Started
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/">Overview</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/getting-started/developer-setup/">Developer Setup</a>
</li>
</ul>
</li>
<li>
<h5>
Sample UX Flows
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/sample-ux-flows/levelup-as-payment/">LevelUp as Payment</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/sample-ux-flows/levelup-as-login/">LevelUp as Login</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/sample-ux-flows/levelup-as-account-of-record/">LevelUp as Account of Record</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/sample-ux-flows/embedded-flow/">Embedded Flow</a>
</li>
</ul>
</li>
<li>
<h5>
Core Concepts
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/merchant-permissions/">Merchant Permissions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/user-flow/">User Flow</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/user-permissions/">User Permissions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/processing-transactions/">Processing Transactions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/handling-refunds/">Handling Refunds</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/common-questions/">Common Questions</a>
</li>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/core-concepts/showcasing-savings/">Showcasing Savings</a>
</li>
</ul>
</li>
<li>
<h5>
Certification &amp; Residuals
</h5>
<ul>
<li class="side-nav__sub__link">
<a href="../../../online-ordering/certification-residuals/overview/">Overview</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="documentation">
<div class="documentation__header">
<div class="l-horizontal">
<h4>
Getting Started: Android
</h4>
<h4 class="documentation__header--section l-right">
Mobile SDK / Getting Started
</h4>
</div>
</div>
<div class="documentation__content">
<h2>Overview</h2>

<p>The Android LevelUp SDK provides the basic building blocks you’ll need to integrate LevelUp into
your app. Specifically, this provides classes which allow you to make requests to the LevelUp web
service and handle the results.  As there are many UI styles and preferences in the Android
community the SDK doesn’t mandate using anything in particular.</p>

<p>While the SDK itself doesn’t contain UI components, we don’t want to leave you completely in the
cold. The <a href="https://github.com/TheLevelUp/levelup-sdk-sample-android">sample app</a> provides a bare-bones implementation of a UI built on top of the
LevelUp SDK.</p>

<h2>Requirements</h2>

<p>The LevelUp SDK is designed to work with the Android ant build system. Currently, only Eclipse and
Ant builds are supported, although we’ll be adding support for Gradle as soon as it becomes more
stable.</p>

<p>The LevelUp SDK requires a number of libraries, all of which are included in the <code>libs/</code> folder as
<code>.jar</code> files.</p>

<p>The LevelUp SDK sample is dependent on the SDK library project. Instructions on setting up the
sample are below.</p>

<h3>API key</h3>

<p>To use the LevelUp SDK, you will need to first get <a href="../../../getting-started/sign-up/">a LevelUp API key</a>.</p>

<h2>Installation</h2>

<p>To get a good feel for how to use the SDK, first download the <a href="https://github.com/TheLevelUp/levelup-sdk-sample-android">SDK sample app</a>. This will
walk you through the basics for logging in users, registering new users, and showing a payment
token.</p>

<p>It is recommended to get the latest SDK version by way of Git. If you’re unfamiliar with Git, please
see the <a href="https://help.github.com/articles/set-up-git">GitHub Getting Started Guide</a>.</p>

<h3>Getting the SDK</h3>

<p>The sample app contains everything you need to get up and running. The SDK itself is included by way
of a git submodule. You can have git automatically download and checkout the submodule by using the
<code>--recursive</code> option as shown below:</p>
<div class="highlight"><pre>git clone --recursive git@github.com:TheLevelUp/levelup-sdk-sample-android.git
</pre></div>
<p>If you want to get just the SDK (without the sample), just do:</p>
<div class="highlight"><pre>git clone git@github.com:TheLevelUp/levelup-sdk-android.git
</pre></div>
<h3>
<a id="set-the-api-key"></a>Set the API key</h3>

<p>Before any requests can be made, you need to set the API key via resource overlays. For those
unfamiliar with resource overlays, this is just a way of overriding an SDK-provided resource (the
stuff in <code>res/</code>) with your own.</p>

<p>In this case, the API key must be put in the <code>levelup_api_key</code> string resource.  An example of this
is in the <a href="https://github.com/TheLevelUp/levelup-sdk-sample-android">sample</a> in <code>doc/strings_api_keys.xml</code> which should be copied to the sample’s
<code>res/values/</code> directory. This will be read by the <a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/net/request/factory/AccessTokenRequestFactory.html">AccessTokenRequestFactory</a> when you build a
request.</p>
<div class="highlight"><pre>cp doc/strings_api_keys.xml levelup-sdk-sample/res/values/
</pre></div>
<p>Then edit the strings file to add in the API key:</p>
<div class="highlight"><pre><span class="nv">$EDITOR</span> levelup-sdk-sample/res/values/strings_api_keys.xml
</pre></div>
<h3>Building the Sample with Eclipse</h3>

<p>Open Eclipse (with the Android development environment installed) and go to <code>File → New → Other… →
Android Project from Existing Code</code>. Then select both the sample app in <code>levelup-sdk-sample-android</code>
and the SDK library project itself <code>levelup-sdk-android</code>.</p>

<p>Once built, run the <code>levelup-sdk-sample</code> app.</p>

<h3>Building the Sample with Ant</h3>

<p>To compile the sample, do the usual:</p>
<div class="highlight"><pre><span class="nb">cd </span>levelup-sdk-sample/
ant debug install
</pre></div>
<p>If ant is having trouble finding your Android install, make sure your <code>ANDROID_HOME</code> environment
variable is set.</p>

<p>You may also wish to update your <code>local.properties</code> file by going into the sample project:</p>
<div class="highlight"><pre>android update project --subprojects --target android-18 --path .
</pre></div>
<h2>Performing Requests</h2>

<p>The LevelUp web service API is a RESTful HTTP API. The SDK provides a number of classes which can be
used in concert to perform requests. As there are a number of ways to manage background threads in
Android, the task of executing requests in the background is left up to the reader. The <a href="https://github.com/TheLevelUp/levelup-sdk-sample-android">sample</a>
provides a demonstration of using a <a href="https://developer.android.com/reference/android/content/Loader.html">Loader</a> for this purpose.</p>

<h3>Sending Requests</h3>

<p>Requests are made by using <a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/net/request/factory/package-summary.html">request factories</a> to generate an <a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/net/AbstractRequest.html">AbstractRequest</a>. These requests are
then sent to the web service using a <a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/net/LevelUpConnection.html">LevelUpConnection</a> which will return an instance of an
<a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/net/LevelUpResponse.html">LevelUpResponse</a>.</p>

<p>At this stage, the <code>LevelUpResponse</code> should be checked for an <a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/net/LevelUpStatus.html#OK">LevelUpStatus.OK</a> status code. If the
request was successful, <a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/model/factory/json/package-summary.html">model JSON factories</a> can turn this response into a simple POJO <a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/model/package-summary.html">model</a>. If
there was an error performing the request, there are a few things that need to be checked.</p>

<h3>
<a id="errors"></a>Handling Errors</h3>

<p>When the response <code>Content-Type</code> header is set to <code>application/json</code>, the error messages can be
extracted from the response body using <a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/model/factory/json/ErrorJsonFactory.html">ErrorJsonFactory</a>. This is usually returned on form
validation errors and includes information about which form field needs to be corrected.</p>

<p>Other status codes indicate various types of server/client errors and should be displayed to the
user appropriately.</p>

<p>If the status is <a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/net/LevelUpStatus.html#LOGIN_REQUIRED">LevelUpStatus.LOGIN_REQUIRED</a>, either an authenticated request needs to be made or
the user is no longer logged in (their access token has expired or been invalidated).</p>

<h3>
<a id="authentication"></a>Authentication</h3>

<p>Most requests need to be authenticated. Authentication is performed by logging in, which will
return an <a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/model/AccessToken.html">AccessToken</a> that should be persisted until the server requests that it be revoked.
Generally, this means that the <code>AccessToken</code> should be stored in a private <a href="https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html">SQLiteDatabase</a> or using
<a href="http://developer.android.com/reference/android/content/SharedPreferences.html">SharedPreferences</a>. See the sample code for an example of persisting this using
<code>SharedPreferences</code>.</p>

<p>When implementing your own <a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/model/AccessToken.html">AccessToken</a> storage mechanism, you must implement the
<a href="http://thelevelup.github.io/levelup-sdk-android/com/scvngr/levelup/core/net/AccessTokenRetriever.html">AccessTokenRetriever</a> and <a href="http://developer.android.com/reference/android/os/Parcelable.html">Parcelable</a> interfaces.</p>

</div>
</div>
<div class="l-clearfix"></div>
</div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><script src="../../../scripts.js"></script><script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6677962-51']);
  _gaq.push(['_setDomainName', 'developer.thelevelup.com']);
  _gaq.push(['_trackPageview']);
  
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
